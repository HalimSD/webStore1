@model PaginationViewModel<Bestelling>
<link rel="stylesheet" href="~/css/product_creation_generic.css">
<link rel="stylesheet" href="~/css/favorites.css">
<div class="pageRoot">
    <h2>Bestellings geschiedenis</h2>
    <table class="table">
        <thead>
        <tr>
            <th>
                Bestelling ID
            </th>
            <th>
                Bestelling Datum
            </th>
            <th>
                Bestelling Status
            </th>
            <th>
                Details
            </th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        @foreach (Bestelling item in Model.Data)
        {
            <tr>
                <td>
                    @item.BestellingId
                </td>
                <td>
                    @item.Date.ToShortDateString();
                </td>
                <td>
                    @item.Status
                </td>
                <td>
                    <form method="get">
                        <input type="hidden" name="id" value="@item.BestellingId">
                        <input type="hidden" name="returnUrl" value="@Url.Action("oldOrderDetails","Cart", new {id=item.BestellingId})"/>
                        <button id="gotoProduct" class="btn btn-primary" type="submit" formaction="@Url.Action("oldOrderDetails", "Cart")">Details</button>                        
                    </form>
                </td>
            </tr>               
        }
        </tbody>
    </table>
    <br>
        <div class="pagination flex-wrap">
        @if (Model.PageNumber == 1)
        {
            <li class="page-item disabled">
                <a class="page-link" tabindex="-1">Vorige</a>
            </li>
        }
        else
        {
            <li class="page-item">
                <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="1" data-toggle="tooltip" data-placement="top" title="Naar begin">«</a>
            </li>
            <li class="page-item">
                <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="@(Model.PageNumber - 1)">Vorige</a>
            </li>
        }
        @for (int i = Model.PageNumber - 3; i <= Model.PageNumber - 1; i++)
        {
            if (i < 1)
            {
                continue;
            }
            <li class="page-item">
                <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="@i">@i</a>
            </li>
        }

        <li class="page-item active">
            <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="@Model.PageNumber">

                @Model.PageNumber <span class="sr-only">current</span>

            </a>
        </li>

        @for (int i = Model.PageNumber + 1; i <= Model.PageNumber + 3; i++)
        {
            if (i > Model.TotalPages)
            {
                continue;
            }
            <li class="page-item">
                <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="@i">@i</a>
            </li>
        }
        @if (Model.PageNumber == Model.TotalPages)
        {
            <li class="page-item disabled">
                <a class="page-link" tabindex="-1">Volgende</a>
            </li>
        }
        else
        {
            <li class="page-item">
                <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="@(Model.PageNumber + 1)">Volgende</a>
            </li>
            <li class="page-item">
                <a class="page-link" asp-action="oldOrders" asp-route-pageNumber="@Model.TotalPages" data-toggle="tooltip" data-placement="top" title="Naar einde">»</a>
            </li>
        }
        <a id="categoryPageJumper" class="paginationJumpTo"  role="button" title='Spring naar pagina:' data-toggle="popover" data-placement="top" data-html="true" data-content="">
            Pagina @Model.PageNumber van @Model.TotalPages
            <i class="inline-icon material-icons">
                arrow_drop_down
            </i>
        </a>
        <div id="popover-content" style="display: none;">
            <form action="@Url.Action("oldOrders", "cart")">
                <select class="form-control" name="pageNumber">
                    @for (int i = 1; i <= Model.TotalPages; i++)
                    {
                        <option value="@i">@i</option>
                    }
                </select><br>
                <button type="submit" class="btn btn-primary btn-block">Ga</button>
            </form>
        </div>
    </div>
</div>
